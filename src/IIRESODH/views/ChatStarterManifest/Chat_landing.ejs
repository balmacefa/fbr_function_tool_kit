<!-- component -->
    <div class="gallery border-2 rounded mx-auto m-5 bg-slate-300" style="width:750px;">



        <div class="top flex p-2 border-b select-none">
          <div class="heading text-gray-800 w-full pl-3 font-semibold my-auto"></div>
          <div class="buttons ml-auto flex text-gray-600 mr-1">
            <svg action="prev" class="w-7 border-2 rounded-l-lg p-1 cursor-pointer border-r-0" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path action="prev" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" /></svg>
            <svg action="next" class="w-7 border-2 rounded-r-lg p-1 cursor-pointer" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path action="next" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3" /></svg>
          </div>
        </div>
        <div class="content-area w-full h-96 overflow-hidden">
          <div class="platform shadow-xl h-full flex">
            <!-- frame start -->
            <div class="each-frame border-box flex-none h-full" title="Tiger"> <!-- title shows in top -->
                <!-- this is full editable area -->
                <div class="main flex w-full p-8"> 
                    <div class="sub w-4/6 my-auto">

                    </div>
                    <div class="sub w-full my-auto">
                        <div class="head text-3xl font-bold mb-4">Protocolo Escalera</div>
                        <div class="long-text text-lg">Asistente GPT para consultar el documento Protocolo Ecalera....</div> 
                        <!-- this buttons are usable everywhere inside gallery element -->
                    </div>
                </div>
            </div>
            <!-- frame end -->

          </div>
        </div>
      </div>

      <style>
          .platform{
              position: relative;
              transition:right 0.3s;
          }
          .body{background-color:white !important;}
      </style>
<script>
    $(document).ready(function() {
        function Gallery() {
            this.index = 0;
            this.load = function() {
                this.rootEl = $(".gallery");
                this.platform = this.rootEl.find(".platform");
                this.frames = this.platform.find(".each-frame");
                this.contentArea = this.rootEl.find(".content-area");
                this.width = parseInt(this.rootEl.css('width'));
                this.limit = { start: 0, end: this.frames.length - 1 };
                this.frames.each((index, each) => { $(each).css('width', this.width + "px"); });
                this.goto(this.index);
            };
            this.set_title = function() { this.rootEl.find(".heading").text(this.frames.eq(this.index).attr("title")); }
            this.next = function() { this.platform.css('right', this.width * ++this.index + "px"); this.set_title(); }
            this.prev = function() { this.platform.css('right', this.width * --this.index + "px"); this.set_title(); }
            this.goto = function(index) { this.platform.css('right', this.width * index + "px"); this.index = index; this.set_title(); }
            this.load();
        }
        var G = new Gallery();

        $(G.rootEl).on("click", function(t) {
            var val = $(t.target).attr("action");
            if (val == "next" && G.index != G.limit.end) { G.next(); }
            if (val == "prev" && G.index != G.limit.start) { G.prev(); }
            if (val == "goto") {
                let rv = $(t.target).attr("goto");
                rv = rv == "end" ? G.limit.end : rv;
                G.goto(parseInt(rv));
            }
        });

        $(document).on("keyup", function(t) {
            var val = t.which;
            if (val == 39 && G.index != G.limit.end) { G.next(); }
            if (val == 37 && G.index != G.limit.start) { G.prev(); }
        });

        // run G.load() if new data loaded with ajax
    });
</script>
