<div class="flex h-full max-w-full flex-1 flex-col">
  <%- include('chat_top_ops'); -%>

  <div
    class="mt-0 flex-col w-full h-full transition-width overflow-y-auto items-stretch dark:bg-gray-800"
  >
    <div class="grow w-full h-5/6 overflow-y-auto">
      <!-- include the chat los messages here -->
      <ul
        id="chatlog_container"
        class="flex-col mt-4 max-w-5xl w-full mx-auto h-full"
      >
        <%- include('chat_chatlog_messages'); -%>
      </ul>
    </div>
    <%- include('chat_input_area'); -%>
  </div>
</div>

<!-- Showdown CDN -->
<script
  src="https://cdnjs.cloudflare.com/ajax/libs/showdown/2.1.0/showdown.min.js"
  integrity="sha512-LhccdVNGe2QMEfI3x4DVV3ckMRe36TfydKss6mJpdHjNFiV07dFpS2xzeZedptKZrwxfICJpez09iNioiSZ3hA=="
  crossorigin="anonymous"
  referrerpolicy="no-referrer"
></script>

<script>
  $(document).ready(function () {
    function convertMarkdown() {
      var converter = new showdown.Converter();
      $(".markdown-content").each(function () {
        var html = converter.makeHtml($(this).html());
        $(this).html(html);
      });
    }
    // Convertir Markdown a HTML
    convertMarkdown();
  });
</script>
